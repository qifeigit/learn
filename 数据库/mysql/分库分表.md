4.分库分表做过么，怎么做到不停机扩容，双写数据丢失怎么办，跨库事务怎么解决

先在创建新的表，然后在2点上线新逻辑，把数据写入到旧表和新表中。然后把新表不足的数据用脚本导入。等到新表和旧表数据完全一致之后，再停止写入旧表，然后只用新表的逻辑即可。

